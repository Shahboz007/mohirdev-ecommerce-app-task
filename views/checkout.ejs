<!-- Navigation Bar -->
<%- include('partials/mainNav.ejs') %>

  <main>
    <!-- Main Checkout Container -->
    <div class="container mx-auto p-6 mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6">

      <!-- Customer Details Section -->
      <section class="col-span-1 lg:col-span-8 bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Shipping Address</h2>

        <!-- Customer Information -->
        <form accept="/orders/checkout" method="POST">
          <!-- Shipping Address -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="mb-4">
              <label for="address" class="block text-gray-700">Address</label>
              <input type="text" id="address" required
                class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400" name="address">
            </div>
          </div>

          <button type="submit"
            class="w-full py-3 mt-6 bg-gray-800 text-white font-semibold rounded-lg hover:bg-gray-900">Place
            Order</button>
        </form>
      </section>

      <!-- Order Summary Section -->
      <aside class="col-span-1 lg:col-span-4 bg-white p-6 rounded-lg shadow-lg">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Order Summary</h2>

        <!-- Product Items Summary -->
        <div class="space-y-4">
          <%cartProducts.forEach(item=> {%>
            <div class="flex justify-between items-center">
              <span class="text-gray-600"><%=item.product.name%>(<%=item.quantity.toLocaleString()%>)</span>
              <span class="text-gray-800 font-semibold">$<%=(item.product.price * item.quantity).toLocaleString()%></span>
            </div>
            <%})%>
        </div>

        <!-- Divider -->
        <div class="border-t border-gray-200 my-4"></div>

        <!-- Total Price -->
        <div class="flex justify-between items-center">
          <span class="text-lg font-semibold text-gray-800">Total</span>
          <span class="text-lg font-semibold text-gray-900">$<%=totalPrice.toLocaleString()%></span>
        </div>
      </aside>

    </div>
  </main>

  <!-- Footer -->
  <%- include('partials/mainFooter.ejs') %>